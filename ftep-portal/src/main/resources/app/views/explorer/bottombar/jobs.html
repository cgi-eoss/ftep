<div id="jobs-panel">

    <div class="row job-checkboxes">
        <div class="col-lg-4 col-md-12 check-container" ng-click="jobStatus.value = !jobStatus.value" ng-repeat="jobStatus in jobStatuses">
            <md-checkbox ng-model="jobStatus.value" aria-label="Job Filter" ng-click="filterJobs()" />
            <span>{{jobStatus.name}}</span>
        </div>
    </div>

    <ul id="jobs-list" class="list" ng-repeat="service in jobServices">

        <div class="row no-margin list-group">

            <div class="col-md-11" ng-click="toggleJobGroup(service.id)">
                <label>{{service.attributes.name}}</label>
            </div>

            <div class="col-md-1 no-padding">
                <i class="material-icons"
                   ng-show="groupedJobs[service.id].length > 0 && !isJobGroupOpened(service.id)"
                   ng-click="toggleJobGroup(service.id)">
                    expand_less
                </i>
                <i class="material-icons"
                   ng-show="groupedJobs[service.id].length > 0 && isJobGroupOpened(service.id)"
                   ng-click="toggleJobGroup(service.id)">
                    expand_more
                </i>
            </div>

        </div>

        <li class="list-item"
            ng-repeat="job in groupedJobs[service.id] | orderBy: 'id'"
            ng-show="isJobGroupOpened(service.id) && filteredJobStatuses.indexOf(job.attributes.status) > -1"
            ng-click="selectJob(job)">

            <div class="row no-margin">

                <div class="col-xs-8">
                    <label>Job ID: {{job.id}}</label>
                </div>

                <div class="col-xs-4">
                   <div class="job-tools">

                       <md-button class="toolbar-button"
                                   ng-show="hasGuiEndPoint(job.attributes.guiEndpoint)"
                                   href="{{job.attributes.guiEndpoint}}"
                                   aria-label="Go to GUI"
                                   uib-tooltip="Go to GUI"
                                   tooltip-placement="top"
                                   tooltip-trigger="mouseenter"
                                   tooltip-append-to-body="true">
                            <i class="material-icons">exit_to_app</i>
                        </md-button>

                        <md-button class="toolbar-button"
                                   aria-label="Job Info"
                                   uib-tooltip="Info"
                                   tooltip-placement="top"
                                   tooltip-trigger="mouseenter"
                                   tooltip-append-to-body="true"
                                   uib-popover-html="getJobPopover({{job}})"
                                   popover-placement="right"
                                   popover-trigger="mouseenter"
                                   popover-append-to-body="true">
                            <i class="material-icons">info_outline</i>
                        </md-button>

                        <md-button class="toolbar-button"
                                   ng-click="removeJob($event, job)"
                                   aria-label="Delete"
                                   uib-tooltip="Delete"
                                   tooltip-placement="top"
                                   tooltip-trigger="mouseenter"
                                   tooltip-append-to-body="true">
                            <i class="material-icons">delete</i>
                        </md-button>
                    </div>

                </div>

            </div>

            <div class="row no-margin">

                <div class="col-md-8">
                    <div>{{job.attributes.step}}</div>
                </div>

                <div class="col-md-4">
                    <div class="job-status" style="{{getColor(job.attributes.status)}}">{{job.attributes.status}}</div>
                </div>

            </div>

        </li>

    </ul>

</div>
