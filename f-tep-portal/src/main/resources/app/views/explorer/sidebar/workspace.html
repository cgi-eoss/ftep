<div id="workspace-panel" class="panel panel-default">

    <md-toolbar md-scroll-shrink class="sidebar-subheader">
        <div class="md-toolbar-tools">
            <div class="col-xs-12">
                <span>Workspace</span>
            </div>
        </div>
    </md-toolbar>

    <div class="panel-body scrollme" is-bar-shown="flag" rebuild-on="rebuild:scrollbar" rebuild-on-resize>

        <section ng-if="!serviceParams.selectedService">
            <div class="row service-header">
                <md-subheader class="md-accent md-subheader-top service-title" ng-hide="isWpsLoading">
                     No Selected Service
                </md-subheader>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="note">Please select a service from the service panel first.</div>
                </div>
            </div>
        </section>

        <div ng-show="isWpsLoading">Loading...</div>

        <div id="wps_{{serviceDescription.Identifier1}}" ng-if="serviceParams.selectedService" ng-hide="isWpsLoading">

            <section class="workspace-header">

                <div class="row service-header">
                    <md-subheader class="md-accent md-subheader-top service-title">
                        {{serviceParams.selectedService.attributes.name}}
                    </md-subheader>
                </div>

                <div class="row service-description-title">
                    <div class="col-md-12">
                        <h4 ng-bind="serviceDescription.Title"></h4>
                    </div>
                </div>

                <div class="row service-description">
                    <div class="col-md-12">
                        <h5 ng-bind="serviceDescription.Abstract"></h5>
                    </div>
                </div>

            </section>

            <section class="workspace-content">

                <form id="serviceForm" name="serviceForm">

                    <div class="service-field" ng-repeat="fieldDesc in serviceDescription.DataInputs.Input">

                        <div class="input-container">

                            <div class="row no-margin input-header">
                                <md-subheader class="md-accent">
                                    <span uib-tooltip="{{fieldDesc.Identifier.__text}}"
                                        tooltip-placement="top"
                                        tooltip-trigger="mouseenter"
                                        tooltip-append-to-body="true">{{fieldDesc.Title.__text}}</span>
                                    <span class="required-asterisk" ng-show="!fieldDesc.optional">*</span>
                                <button type="button input-button"
                                        class="btn"
                                        ng-show="fieldDesc.Identifier.__text == 'aoi'"
                                        ng-click="pastePolygon(fieldDesc.Identifier.__text)"
                                        aria-label="Copy From Map"
                                        uib-tooltip="Copy From Map"
                                        tooltip-placement="right"
                                        tooltip-trigger="mouseenter"
                                        tooltip-append-to-body="true">
                                    <i class="material-icons">content_copy</i>
                                </button>
                                </md-subheader>
                            </div>

                            <div class="row no-margin input-item">
                               <div class="col-md-12 no-padding">
                                    <md-input-container md-no-float>
                                        <input ng-model="inputValues[fieldDesc.Identifier.__text]"
                                               type="{{getInputType(fieldDesc)}}"
                                               ng-required="!fieldDesc.optional"
                                               dnd-list="dropLists[fieldDesc.Identifier.__text]"
                                               dnd-drop="onDrop(item, fieldDesc.Identifier.__text)">
                                        <div class="hint" ng-show="true">{{fieldDesc.Abstract.__text}}</div>
                                    </md-input-container>
                               </div>
                           </div>

                            <div class="row no-margin drop-items">
                                <div class="col-md-12 no-padding">

                                    <md-chip ng-repeat="item in dropLists[fieldDesc.Identifier.__text]"
                                             uib-tooltip="{{item}}"
                                             tooltip-placement="top"
                                             tooltip-trigger="mouseenter"
                                             tooltip-append-to-body="true">
                                        <div class="md-chip-content">
                                            {{getShortName(item)}}
                                        </div>
                                        <div class="md-chip-close">
                                            <i class="material-icons"
                                               ng-click="removeSelectedItem(fieldDesc.Identifier.__text, item)">
                                                close
                                            </i>
                                        </div>
                                    </md-chip>

                                </div>
                            </div>

                        </div>

                    </div>

                </form>

                <md-button id="launch-button"
                           class="md-icon-button md-fab md-mini btn-success"
                           form="serviceForm"
                           ng-disabled="serviceForm.$invalid"
                           ng-hide="isWpsLoading"
                           aria-label="Launch"
                           ng-click="displayTab(bottomNavTabs.JOBS); launchProcessing()"
                           uib-tooltip="Launch"
                           tooltip-placement="top"
                           tooltip-trigger="mouseenter"
                           tooltip-append-to-body="true">
                    <i class="material-icons">play_arrow</i>
                </md-button>

                <div class="info" ng-if="info">{{info}}</div>

            </section>

        </div>

    </div>

</div>
